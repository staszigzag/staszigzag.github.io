(function(t){function e(e){for(var n,r,c=e[0],o=e[1],u=e[2],d=0,f=[];d<c.length;d++)r=c[d],s[r]&&f.push(s[r][0]),s[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);l&&l(e);while(f.length)f.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,c=1;c<a.length;c++){var o=a[c];0!==s[o]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},s={app:0},i=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=o;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"2bd2":function(t,e,a){"use strict";var n=a("c539"),s=a.n(n);s.a},"4cf5":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"app"},[a("h1",{staticClass:"app__title"},[t._v("Гостевая книга")]),a("add-new-feedback",{staticClass:"app__add-new"}),a("feedback-list",{staticClass:"app__list-feedback",attrs:{feedbacks:t.feedbacks}})],1)},i=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"form-add-feedback"},[a("h2",{staticClass:"form-add-feedback__title"},[t._v("Добавить отзыв")]),a("form",{staticClass:"form-add-feedback__form",on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.handlerSubmitBtn(e)}}},[a("div",{staticClass:"form-add-feedback__wrapper"},[a("div",{staticClass:"form-add-feedback__wrapper-name"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputName,expression:"inputName"}],staticClass:"form-add-feedback__input-name",attrs:{id:"name",type:"text",minlength:"5",maxlength:"22"},domProps:{value:t.inputName},on:{input:function(e){e.target.composing||(t.inputName=e.target.value)}}}),a("label",{staticClass:"form-add-feedback__label-name",class:t.inputName?"active":"",attrs:{for:"name"}},[t._v("Имя")])]),a("p",{staticClass:"form-add-feedback__wrapper-stars"},t._l(5,function(e){return a("svg",{key:e,staticClass:"form-add-feedback__star",class:e<=t.stars?"form-add-feedback__star--active":"",attrs:{width:"30px",height:"30px",viewBox:"-30 -20 570 570","stroke-width":"40"},on:{click:function(a){a.stopPropagation(),t.stars=e}}},[a("polygon",{attrs:{points:"255,402.212 412.59,497.25 370.897,318.011 510,197.472 326.63,181.738 255,12.75 183.371,181.738 0,197.472 139.103,318.011 97.41,497.25"}}),t._v(">\n          ")])}),0)]),a("div",{staticClass:"form-add-feedback__wrapper-text"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.inputText,expression:"inputText"}],staticClass:"form-add-feedback__input-text",attrs:{id:"text",type:"text",minlength:"3",maxlength:"70"},domProps:{value:t.inputText},on:{input:function(e){e.target.composing||(t.inputText=e.target.value)}}}),a("label",{staticClass:"form-add-feedback__label-text",class:t.inputText?"active":"",attrs:{for:"text"}},[t._v("Фидбэк")])]),a("div",{staticClass:"form-add-feedback__wrapper-btn"},[a("button",{staticClass:"form-add-feedback__btn-submit",attrs:{disabled:!(t.inputName&&t.inputText&&t.stars),type:"submit"}},[t._v("добавить ")])])])])},c=[],o=(a("6b54"),{data:function(){return{inputName:"",inputText:"",stars:0}},methods:{handlerSubmitBtn:function(){this.$parent.addNewItemInDB({name:this.inputName,text:this.inputText,stars:this.stars,date:Date().toString().slice(4,21)}),this.inputName="",this.inputText="",this.stars=0}}}),u=o,l=(a("c5cf"),a("2877")),d=Object(l["a"])(u,r,c,!1,null,"d1fc6e2a",null),f=d.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"list-feedback"},[a("h2",{staticClass:"list-feedback__title"},[t._v("Отзывы")]),a("pagination",{staticClass:"list-feedback__pagination",attrs:{feedbacks:t.feedbacks}}),a("ul",{staticClass:"list-feedback__list"},t._l(t.visibleFeedbacks,function(t,e){return a("feedback-item",{key:e,staticClass:"list-feedback__item",attrs:{item:t}})}),1)],1)},b=[],_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{directives:[{name:"show",rawName:"v-show",value:t.allBtnPagination,expression:"allBtnPagination"}],staticClass:"pagination"},[t._l(t.allBtnPagination,function(e){return a("li",{key:e,staticClass:"pagination__item",class:t.currentBtnPagination==e?"pagination__item--current":"",on:{click:function(a){a.stopPropagation(),t.currentBtnPagination=e}}},[t._v(t._s(e))])}),a("li",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.countFeedbacksOnPage,expression:"countFeedbacksOnPage"}],staticClass:"pagination__select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.countFeedbacksOnPage=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"3"}},[t._v("3")]),a("option",{attrs:{value:"5"}},[t._v("5")]),a("option",{attrs:{value:"7"}},[t._v("7")]),a("option",{attrs:{value:"9"}},[t._v("9")])])])],2)},m=[],v=(a("456d"),a("ac6a"),{data:function(){return{currentBtnPagination:1,countFeedbacksOnPage:5,arrFeedbacks:[]}},watch:{feedbacks:function(){var t=this,e=[];Object.keys(this.feedbacks).forEach(function(a){return e.push(t.feedbacks[a])}),this.arrFeedbacks=e.reverse(),this.setNewArr()},currentBtnPagination:function(){this.setNewArr()},countFeedbacksOnPage:function(){this.currentBtnPagination=1,this.setNewArr()}},computed:{allBtnPagination:function(){return Math.ceil(this.arrFeedbacks.length/this.countFeedbacksOnPage)}},methods:{setNewArr:function(){var t=this.currentBtnPagination*this.countFeedbacksOnPage-this.countFeedbacksOnPage,e=t+this.countFeedbacksOnPage;this.$parent.visibleFeedbacks=this.arrFeedbacks.slice(t,e)}},props:{feedbacks:Object}}),k=v,h=(a("c2fb"),Object(l["a"])(k,_,m,!1,null,"4a5aa36e",null)),g=h.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"feedback"},[a("p",{staticClass:"feedback__name"},[t._v(t._s(t.item.name))]),a("p",{staticClass:"feedback__text"},[t._v(t._s(t.item.text))]),a("div",{staticClass:"feedback__wrapper"},[a("p",{staticClass:"feedback__wrapper-stars"},t._l(5,function(e){return a("svg",{key:e,staticClass:"feedback__star",class:e<=t.item.stars?"feedback__star--active":"",attrs:{width:"20px",height:"20px",viewBox:"-30 -20 570 570","stroke-width":"40"}},[a("polygon",{attrs:{points:"255,402.212 412.59,497.25 370.897,318.011 510,197.472 326.63,181.738 255,12.75 183.371,181.738 0,197.472 139.103,318.011 97.41,497.25"}}),t._v(">\n       ")])}),0),a("p",{staticClass:"feedback__date"},[t._v(t._s(t.item.date))])])])},w=[],C={data:function(){return{}},props:{item:Object}},P=C,y=(a("b3a3"),Object(l["a"])(P,x,w,!1,null,"48ac17ea",null)),O=y.exports,N={data:function(){return{visibleFeedbacks:[]}},components:{Pagination:g,FeedbackItem:O},props:{feedbacks:Object}},F=N,j=(a("2bd2"),Object(l["a"])(F,p,b,!1,null,"72b0e484",null)),B=j.exports,T=a("8aa5"),S=a.n(T),$={databaseURL:"https://bookfeedback-c9a4d.firebaseio.com"},A=S.a.initializeApp($).database().ref("bookfeedback2"),E={data:function(){return{feedbacks:{}}},components:{AddNewFeedback:f,FeedbackList:B},methods:{addNewItemInDB:function(t){A.push(t,function(){return console.log("add new record")})}},firebase:{feedbacks:A}},I=E,M=(a("5c0b"),Object(l["a"])(I,s,i,!1,null,null,null)),D=M.exports,J=a("0ff2");n["a"].use(J["a"]),n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(D)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var n=a("5e27"),s=a.n(n);s.a},"5e27":function(t,e,a){},"8c6e":function(t,e,a){},"99f1":function(t,e,a){},b3a3:function(t,e,a){"use strict";var n=a("4cf5"),s=a.n(n);s.a},c2fb:function(t,e,a){"use strict";var n=a("8c6e"),s=a.n(n);s.a},c539:function(t,e,a){},c5cf:function(t,e,a){"use strict";var n=a("99f1"),s=a.n(n);s.a}});
//# sourceMappingURL=app.a5bc2860.js.map