parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"tXYC":[function(require,module,exports) {
"use strict";function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=function(){function n(){e(this,n),this.subscribers=new Set}return t(n,[{key:"depend",value:function(e){e&&this.subscribers.add(e)}},{key:"notify",value:function(){this.subscribers.forEach(function(e){return e()})}}]),n}();exports.default=r;
},{}],"Eu5Y":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function r(e,t,n){return new i(e,t,n)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createVNode=r,exports.vNode=void 0;var i=function(){function t(n,r,i){e(this,t),this.tag=n,this.props=r,this.children=i,this.$el=null}return n(t,[{key:"mount",value:function(e){var t=document.createElement(this.tag);for(var n in this.props)"on"===n.slice(0,2)&&n in t?t[n]=this.props[n]:t.setAttribute(n,this.props[n]);"string"==typeof this.children||"number"==typeof this.children?t.textContent=this.children:Array.isArray(this.children)&&this.children.forEach(function(e){e.mount(t)}),e.append(t),this.$el=t}},{key:"destroy",value:function(){this.$el?this.$el.remove():console.error("node is not mounted")}},{key:"patch",value:function(e){var t=this;if(this.$el)if(this.tag!==e.tag)e.mount(this.$el.parentNode),this.destroy();else{for(e.$el=this.$el;e.$el.attributes.length>0;)e.$el.removeAttribute(e.$el.attributes[0].name);for(var n in e.props)"on"===n.slice(0,2)&&n in e.$el?e.$el[n]=e.props[n]:e.$el.setAttribute(n,e.props[n]);if("string"==typeof e.children||"number"==typeof e.children)e.$el.textContent=e.children;else if(Array.isArray(e.children))if("string"==typeof this.children||"number"==typeof this.children)e.$el.textContent=null,e.children.forEach(function(t){t.mount(e.$el)});else if(Array.isArray(this.children)){for(var r=Math.min(this.children.length,e.children.length),i=0;i<r;i++)this.children[i].patch(e.children[i]);this.children.length>e.children.length?this.children.slice(e.children.length).forEach(function(e){e.destroy()}):e.children.length>this.children.length&&e.children.slice(this.children.length).forEach(function(e){e.mount(t.$el)})}}else console.error("node is not mounted")}}]),t}();exports.vNode=i;
},{}],"I8YH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("./dependency")),t=require("./vdom");function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}var i=function(){function n(e){var t=e.data,r=e.watch,a=e.methods,i=e.render,c=e.el;o(this,n),this.$rootEl=document.querySelector(c),this.activeEffect=null,this.rootVNode=null,this.setReactiveData(t),this.setWatchMethods(r),this.setMethods(a),this.$render(i)}return a(n,[{key:"setReactiveData",value:function(t){var n=this;Object.keys(t).forEach(function(o){var r=new e.default,a=t[o];Object.defineProperty(n,o,{get:function(){return r.depend(this.activeEffect),a},set:function(e){e!==a&&(a=e,r.notify())}})})}},{key:"setWatchMethods",value:function(e){var t=this;Object.keys(e).forEach(function(n){var o=e[n].bind(t);t[n]=function(){t.activeEffect=o,o.apply(void 0,arguments),t.activeEffect=null},t[n]()})}},{key:"setMethods",value:function(e){var t=this;Object.keys(e).forEach(function(n){var o=e[n].bind(t);t[n]=function(){return o.apply(void 0,arguments)}})}},{key:"$render",value:function(e){var n=this,o=function(){var o=e.call(n,t.createVNode);n.rootVNode?(n.rootVNode.patch(o),n.rootVNode=o):(n.rootVNode=o,o.mount(n.$rootEl))};this.activeEffect=o,o(),this.activeEffect=null}}]),n}();exports.default=i;
},{"./dependency":"tXYC","./vdom":"Eu5Y"}],"H99C":[function(require,module,exports) {
"use strict";var a=s(require("./ZZFramework/core"));function s(a){return a&&a.__esModule?a:{default:a}}var e=new a.default({el:"#app",data:{firstName:"Rick",lastName:"Sanchez",age:70,msg:""},watch:{fullName:function(){console.log("%c Полное имя ".concat(this.firstName," ").concat(this.lastName),"color: red; font-size: 22px")},ageLogger:function(){console.log("%c Текущий возраст ".concat(this.age),"color: green; font-size: 16px")}},methods:{handlerInputMsg:function(a){this.msg=a},handlerClickIncrement:function(){this.age++}},render:function(a){var s=this;return a("div",{class:"card"},[a("p",{class:"card__full-name"},[a("span",{class:"card__first-name"},this.firstName),a("span",{class:"card__last-name"},this.lastName)]),a("div",{class:"card__wrap"},[a("button",{onclick:function(){return s.handlerClickIncrement()}},"Прожить год жизни"),a("span",{class:"card__age"},this.age)]),a("input",{class:"card__input-msg",oninput:function(a){return s.handlerInputMsg(a.target.value)}},""),a("p",{class:"card__title"},this.msg?"Ваше сообщение:":""),a("p",{class:"card__msg"},this.msg)])}});document.getElementsByClassName("btn-switch")[0].addEventListener("click",function(){e.firstName="Morty",e.lastName="Smith",e.$render(function(a){return a("div",{class:"card-new"},[a("p",{class:"card-new__full-name"},[a("span",{class:"card-new__first-name"},this.firstName),a("span",{class:"card-new__last-name"},this.lastName)])])})});
},{"./ZZFramework/core":"I8YH"}]},{},["H99C"], null)
//# sourceMappingURL=/src.acb3f6f9.js.map