{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/pageMain/MainChat/MainChatArea.vue?2911","webpack:///./src/App.vue?0f6e","webpack:///./src/components/NaneNotifications.vue?9053","webpack:///src/components/NaneNotifications.vue","webpack:///./src/components/NaneNotifications.vue?384a","webpack:///./src/components/NaneNotifications.vue","webpack:///./src/components/NaneBottomSheet.vue?9deb","webpack:///src/components/NaneBottomSheet.vue","webpack:///./src/components/NaneBottomSheet.vue?8da0","webpack:///./src/components/NaneBottomSheet.vue","webpack:///./src/components/NaneTopSystemBar.vue?4c9f","webpack:///src/components/NaneTopSystemBar.vue","webpack:///./src/components/NaneTopSystemBar.vue?cded","webpack:///./src/components/NaneTopSystemBar.vue","webpack:///src/App.vue","webpack:///./src/App.vue?3359","webpack:///./src/App.vue","webpack:///./src/views/Main.vue?6c0c","webpack:///./src/components/pageMain/MainModalCreateRoom.vue?095c","webpack:///./src/utility/validRules.js","webpack:///./src/components/NaneModal.vue?8891","webpack:///src/components/NaneModal.vue","webpack:///./src/components/NaneModal.vue?8d94","webpack:///./src/components/NaneModal.vue","webpack:///src/components/pageMain/MainModalCreateRoom.vue","webpack:///./src/components/pageMain/MainModalCreateRoom.vue?850e","webpack:///./src/components/pageMain/MainModalCreateRoom.vue","webpack:///./src/components/pageMain/MainHeader.vue?c2e5","webpack:///src/components/pageMain/MainHeader.vue","webpack:///./src/components/pageMain/MainHeader.vue?89f6","webpack:///./src/components/pageMain/MainHeader.vue","webpack:///./src/components/pageMain/MainDrawer.vue?6268","webpack:///src/components/pageMain/MainDrawer.vue","webpack:///./src/components/pageMain/MainDrawer.vue?6fb6","webpack:///./src/components/pageMain/MainDrawer.vue","webpack:///./src/components/pageMain/MainSidebar.vue?f3fc","webpack:///src/components/pageMain/MainSidebar.vue","webpack:///./src/components/pageMain/MainSidebar.vue?c234","webpack:///./src/components/pageMain/MainSidebar.vue","webpack:///./src/components/pageMain/MainChat.vue?6e6b","webpack:///./src/components/pageMain/MainChat/MainChatArea.vue?f6fc","webpack:///./src/components/pageMain/MainChat/MainChatMessage.vue?14f1","webpack:///./src/models/Message.js","webpack:///src/components/pageMain/MainChat/MainChatMessage.vue","webpack:///./src/components/pageMain/MainChat/MainChatMessage.vue?2245","webpack:///./src/components/pageMain/MainChat/MainChatMessage.vue","webpack:///./src/models/Room.js","webpack:///src/components/pageMain/MainChat/MainChatArea.vue","webpack:///./src/components/pageMain/MainChat/MainChatArea.vue?75db","webpack:///./src/components/pageMain/MainChat/MainChatArea.vue","webpack:///src/components/pageMain/MainChat.vue","webpack:///./src/components/pageMain/MainChat.vue?9bda","webpack:///./src/components/pageMain/MainChat.vue","webpack:///src/views/Main.vue","webpack:///./src/views/Main.vue?1ba5","webpack:///./src/views/Main.vue","webpack:///./src/views/Login.vue?2dad","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?3a4e","webpack:///./src/views/Login.vue","webpack:///./src/router/index.js","webpack:///./src/config/axios.js","webpack:///./src/api/mainEndpoints.js","webpack:///./src/models/SocketCustom.js","webpack:///./src/api/socketsEndpoints.js","webpack:///./src/api/index.js","webpack:///./src/store/modules/notificationsModule.js","webpack:///./src/store/modules/socketModule.js","webpack:///./src/utility/messagesNotifications.js","webpack:///./src/store/modules/roomsModule.js","webpack:///./src/models/Settinds.js","webpack:///./src/store/modules/settingsModule.js","webpack:///./src/store/modules/modalsModule.js","webpack:///./src/store/modules/authModule.js","webpack:///./src/store/index.js","webpack:///./src/plugins/vuetify.js","webpack:///./src/main.js","webpack:///./src/components/NaneNotifications.vue?667b","webpack:///./src/App.vue?4c38","webpack:///./src/components/pageMain/MainChat.vue?7080"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","staticRenderFns","_l","idx","id","style","top","widthSnackbar","color","scopedSlots","_u","fn","on","$event","DELETE_NOTIFICATION","_v","proxy","_s","text","computed","methods","component","VBtn","VIcon","VSnackbar","userAction","_e","handlerClickConfirm","resolveConfirmUserAction","isConfirm","VBottomSheet","VSheet","VSpacer","VSystemBar","loading","components","NaneNotifications","NaneBottomSheet","NaneTopSystemBar","VApp","VProgressCircular","isShowCreateRoom","TOGGLE_SHOW_CREATE_ROOM","ref","model","callback","$$v","valid","expression","settings","maxRoomTitleLength","concat","rules","type","indexOf","_k","keyCode","preventDefault","handlerClickCreate","nameRoom","trim","handlerClickClose","required","v","onlyString","validLettersAndNumbers","creatorMaxLength","creatorExistRoomName","rooms","find","test","handlerClickCancel","_t","props","Boolean","default","$emit","VCard","VDialog","NaneModal","created","initRules","$refs","form","reset","VCardActions","VCardText","VForm","VTextField","VToolbar","VToolbarTitle","userName","isLoading","handlerClickLogout","VAppBar","isShowDrawer","TOGGLE_SHOW_DRAWER","$vuetify","breakpoint","room","class","isActive","stopPropagation","handlerClickRoom","lastMessage","initActiveRoom","VDivider","VList","VListItem","VListItemContent","VListItemIcon","VListItemSubtitle","VListItemTitle","VNavigationDrawer","xs","secondary","isCurrent","SET_CURRENT_ROOM","VListItemAction","currentRoom","directives","rawName","maxMessageLength","handleClickSend","msgText","scrollId","handlerInfiniteScroll","slot","msg","isSudo","sender","Message","username","JSON","stringify","VCardTitle","Room","history","messagesStore","last_message","isGetHistory","messages","filter","newMes","pop","messagesForView","currentCountChunkMessages","isNextMessages","Date","now","InfiniteLoading","MainChatMessage","watch","scrollToBottom","val","pushNewChunkMessages","start","console","warn","$state","loaded","complete","$nextTick","chat","scrollTop","scrollHeight","VCol","VRow","MainChatArea","resetValidation","VContainer","VMain","MainModalCreatRoom","MainHeader","MainDrawer","MainSidebar","MainChat","init","maxUserNameLength","handlerClickLogin","$router","validate","login","Vue","use","VueRouter","routes","path","Main","meta","requiresAuth","Login","redirect","router","base","process","axiosConfig","axios","baseURL","getConfig","getRooms","getHistory","STATUS","CONNECTING","OPEN","CLOSING","CLOSED","SocketCustom","url","reconnection","reconnectionTime","reconnectionAttempts","Error","_ws","countReconnect","onmessage","Promise","resolve","reject","reconnect","disconnect","WebSocket","onopen","event","onclose","setTimeout","readyState","send","close","getSocket","resolvePromiseFunc","ws","main","defaultBottomSheet","errorGetSettings","defaultSettings","errorValidUserName","errorValidRoomName","errorGetHistory","errorGetRooms","errorSetRooms","createAutoRoom","createRoom","errorGetMessages","errorProcessMessages","errorGetInitSocket","errorSendSocket","initSocket","namespaced","state","activeRooms","mutations","SET_ROOMS","customRooms","ADD_ROOM","RESET_ROOMS","forEach","ADD_ACTIVE_ROOM","ADD_NEW_MESSAGE","addMessageInStore","actions","commit","dispatch","api","map","info","store","messagesNotifications","err","processNewMessage","rawMsg","message","parse","isExistRooms","addMessagesInHistory","Settings","max_message_length","max_room_title_length","max_username_length","uptime","minLength","sizeChunkMessages","SET_SETTINGS","sets","getSettings","TIMEOUT","BASE_COLOR","count","notifications","isShowTopSystemBar","INCREMENT_COUNT","ADD_NOTIFICATION","notification","unshift","index","findIndex","not","SET_USER_ACTION","action","TOGGLE_SHOW_TOP_SYSTEM_BAR","isShow","initWatchIsOnline","updateOnlineStatus","navigator","onLine","addEventListener","showNotification","confirmUserAction","TYPES_USER_ACTIONS","DELETE","USER_NAME","LOGIN","LOGOUT","localStorage","setItem","logout","removeItem","checkAuth","getItem","user","isConnect","SET_IS_CONNECT","connectSocket","newWS","connect","sendSocket","dir","disconnectSocket","Vuex","Store","modals","auth","socket","Vuetify","theme","themes","light","primary","VUE_APP_PRIMARY_COLOR","colors","teal","VUE_APP_SECONDARY_COLOR","lighten2","accent","indigo","lang","locales","ru","current","config","productionTip","vuetify","render","h","App","$mount"],"mappings":"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","file":"js/app.2b97189b.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainChatArea.vue?vue&type=style&index=0&id=fe39e996&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainChatArea.vue?vue&type=style&index=0&id=fe39e996&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('nane-top-system-bar'),_c('transition',{attrs:{\"appear\":\"\",\"mode\":\"out-in\",\"name\":\"opacity-fade\"}},[(_vm.loading)?_c('v-progress-circular',{staticClass:\"ma-auto\",attrs:{\"size\":\"280\",\"color\":\"primary\",\"width\":\"12\",\"indeterminate\":\"\"}}):_c('router-view')],1),_c('nane-notifications'),_c('nane-bottom-sheet')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('transition-group',{attrs:{\"appear\":\"\",\"mode\":\"out-in\",\"name\":\"slide-fade\"}},_vm._l((_vm.notifications),function(n,idx){return _c('v-snackbar',{key:n.id,style:({top: ((_vm.widthSnackbar * idx) + \"px\")}),attrs:{\"top\":\"\",\"right\":\"\",\"color\":n.color,\"timeout\":60000,\"value\":n},scopedSlots:_vm._u([{key:\"action\",fn:function(){return [_c('v-btn',{attrs:{\"fab\":\"\",\"small\":\"\",\"text\":\"\"},on:{\"click\":function($event){return _vm.DELETE_NOTIFICATION(n)}}},[_c('v-icon',{attrs:{\"large\":\"\"}},[_vm._v(\"close\")])],1)]},proxy:true}],null,true)},[_vm._v(\" \"+_vm._s(n.text)+\" \")])}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <transition-group appear mode=\"out-in\" name=\"slide-fade\">\n      <v-snackbar\n        v-for=\"(n, idx) in notifications\"\n        :key=\"n.id\"\n        :style=\"{top: `${widthSnackbar * idx}px`}\"\n        top\n        right\n        :color=\"n.color\"\n        :timeout=\"60000\"\n        :value=\"n\"\n      >\n        {{ n.text }}\n        <template v-slot:action >\n          <v-btn\n            @click=\"DELETE_NOTIFICATION(n)\"\n            fab\n            small\n            text\n          >\n            <v-icon large>close</v-icon>\n          </v-btn>\n        </template>\n      </v-snackbar>\n    </transition-group>\n\n  </div>\n\n</template>\n\n<script>\nimport { mapState, mapMutations } from 'vuex'\n\nexport default {\n  name: 'NaneNotifications',\n  data: () => ({\n    widthSnackbar: 55\n  }),\n  computed: {\n    ...mapState('notifications', ['notifications'])\n  },\n  methods: {\n    ...mapMutations('notifications', ['DELETE_NOTIFICATION'])\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n  @import '../scss/slideFadeAnimation.scss';\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NaneNotifications.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NaneNotifications.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NaneNotifications.vue?vue&type=template&id=af908728&scoped=true&\"\nimport script from \"./NaneNotifications.vue?vue&type=script&lang=js&\"\nexport * from \"./NaneNotifications.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NaneNotifications.vue?vue&type=style&index=0&id=af908728&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"af908728\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\ninstallComponents(component, {VBtn,VIcon,VSnackbar})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-bottom-sheet',{attrs:{\"value\":!!_vm.userAction,\"persistent\":\"\",\"inset\":\"\"}},[_c('v-sheet',{staticClass:\"text-center py-8\"},[(_vm.userAction)?_c('p',{staticClass:\"text-h6\"},[_vm._v(_vm._s(_vm.userAction.text))]):_vm._e(),_c('v-btn',{staticClass:\"mx-2\",attrs:{\"width\":\"120px\",\"color\":\"secondary\"},on:{\"click\":function($event){return _vm.handlerClickConfirm(true)}}},[_vm._v(\"да\")]),_c('v-btn',{staticClass:\"mx-2\",attrs:{\"width\":\"120px\",\"outlined\":\"\",\"color\":\"error\"},on:{\"click\":function($event){return _vm.handlerClickConfirm(false)}}},[_vm._v(\"нет\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-bottom-sheet :value=\"!!userAction\" persistent inset>\n    <v-sheet class=\"text-center py-8\">\n      <p v-if=\"userAction\" class=\"text-h6\">{{ userAction.text }}</p>\n      <v-btn width=\"120px\"  @click=\"handlerClickConfirm(true)\" class=\"mx-2\" color=\"secondary\">да</v-btn>\n      <v-btn width=\"120px\" @click=\"handlerClickConfirm(false)\" class=\"mx-2\" outlined color=\"error\">нет</v-btn>\n    </v-sheet>\n  </v-bottom-sheet>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex'\n\nexport default {\n  name: 'NaneBottomSheet',\n  data: () => ({\n  }),\n  computed: {\n    ...mapState('notifications', ['userAction'])\n  },\n  methods: {\n    ...mapActions('notifications', ['resolveConfirmUserAction']),\n    handlerClickConfirm(isConfirm) {\n      this.resolveConfirmUserAction(isConfirm)\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NaneBottomSheet.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NaneBottomSheet.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NaneBottomSheet.vue?vue&type=template&id=4a8f66be&scoped=true&\"\nimport script from \"./NaneBottomSheet.vue?vue&type=script&lang=js&\"\nexport * from \"./NaneBottomSheet.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4a8f66be\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBottomSheet } from 'vuetify/lib/components/VBottomSheet';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\ninstallComponents(component, {VBottomSheet,VBtn,VSheet})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isShowTopSystemBar)?_c('v-system-bar',{attrs:{\"app\":\"\",\"color\":\"grey lighten-1\"}},[_c('v-spacer'),_c('span',[_vm._v(\"Нет подключения к интернету\")]),_c('v-icon',{staticClass:\"ml-2\"},[_vm._v(\"mdi-wifi-off\")]),_c('v-spacer')],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-system-bar\n    app\n    color=\"grey lighten-1\"\n    v-if=\"isShowTopSystemBar\"\n  >\n    <v-spacer></v-spacer>\n    <span >Нет подключения к интернету</span>\n    <v-icon class=\"ml-2\">mdi-wifi-off</v-icon>\n    <v-spacer></v-spacer>\n  </v-system-bar>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\n\nexport default {\n  name: 'NaneTopSystemBar',\n  data: () => ({\n  }),\n  computed: {\n    ...mapState('notifications', ['isShowTopSystemBar'])\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NaneTopSystemBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NaneTopSystemBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NaneTopSystemBar.vue?vue&type=template&id=17ae5e31&scoped=true&\"\nimport script from \"./NaneTopSystemBar.vue?vue&type=script&lang=js&\"\nexport * from \"./NaneTopSystemBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"17ae5e31\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSystemBar } from 'vuetify/lib/components/VSystemBar';\ninstallComponents(component, {VIcon,VSpacer,VSystemBar})\n","<template>\n  <v-app>\n    <nane-top-system-bar />\n    <transition appear mode=\"out-in\" name=\"opacity-fade\">\n      <v-progress-circular\n        v-if=\"loading\"\n        class=\"ma-auto\"\n        size=\"280\"\n        color=\"primary\"\n        width=\"12\"\n        indeterminate\n      ></v-progress-circular>\n      <router-view v-else/>\n    </transition>\n\n    <nane-notifications/>\n    <nane-bottom-sheet/>\n  </v-app>\n</template>\n\n<script>\n\nimport { mapActions } from 'vuex'\nimport NaneNotifications from './components/NaneNotifications'\nimport NaneBottomSheet from './components/NaneBottomSheet'\nimport NaneTopSystemBar from './components/NaneTopSystemBar'\n\nexport default {\n  name: 'App',\n  data() {\n    return {\n      loading: true\n    }\n  },\n  components: {\n    NaneNotifications,\n    NaneBottomSheet,\n    NaneTopSystemBar\n  },\n  methods: {\n    ...mapActions('rooms', ['getRooms']),\n    ...mapActions('settings', ['getSettings']),\n    ...mapActions('auth', ['checkAuth', 'login']),\n    ...mapActions('notifications', ['initWatchIsOnline'])\n  },\n  async created() {\n    try {\n      // TODO повторная синхронизация при появлении сети\n      this.initWatchIsOnline()\n      await this.getSettings()\n      this.getRooms()\n      const userName = await this.checkAuth()\n\n      if (userName) {\n        this.login(userName)\n      } else {\n        const name = 'login'\n        if (this.$route.name !== name) this.$router.push({ name })\n      }\n    } finally {\n      this.loading = false\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n  @import './scss/slideFadeAnimation.scss';\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=4a42a376&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=4a42a376&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4a42a376\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\ninstallComponents(component, {VApp,VProgressCircular})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('main-header'),_c('main-sidebar'),_c('main-drawer'),_c('main-chat'),_c('main-modal-creat-room')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nane-modal',{attrs:{\"value\":_vm.isShowCreateRoom},on:{\"cancel\":function($event){return _vm.TOGGLE_SHOW_CREATE_ROOM(false)}}},[_c('v-toolbar',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"flat\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"Имя нового чата\")]),_c('v-spacer')],1),_c('v-card-text',{staticClass:\"pt-5\"},[_c('v-form',{ref:\"form\",model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{attrs:{\"counter\":_vm.settings.maxRoomTitleLength,\"rules\":[].concat( _vm.rules ),\"clearable\":\"\",\"autocomplete\":\"off\",\"prepend-icon\":\"mdi-comment-processing-outline\",\"type\":\"text\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.handlerClickCreate($event)}},model:{value:(_vm.nameRoom),callback:function ($$v) {_vm.nameRoom=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"nameRoom\"}})],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"width\":\"120px\",\"color\":\"secondary\"},on:{\"click\":_vm.handlerClickCreate}},[_vm._v(\"Создать\")]),_c('v-btn',{attrs:{\"width\":\"120px\",\"outlined\":\"\",\"color\":\"error\"},on:{\"click\":_vm.handlerClickClose}},[_vm._v(\"Закрыть\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const required = v => (!!v && !!v.trim()) || 'Это поле обязательно'\nexport const onlyString = v => (typeof v === 'string' && validLettersAndNumbers(v)) || 'Это поле только для букв и цифр'\n\nexport const creatorMinLength = n => {\n  return v => (!!v && v.length >= n) || 'Минимальное количество символов ' + n\n}\nexport const creatorMaxLength = n => {\n  return v => (!!v && v.length <= n) || 'Максимальное количество символов ' + n\n}\nexport const creatorExistRoomName = rooms => {\n  return v => !rooms.find(r => r.name === v) || 'Комната с таким именем уже существует'\n}\n\nexport const validLettersAndNumbers = v => /^[а-яА-ЯёЁa-zA-Z0-9]+$/.test(v)\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"value\":_vm.value,\"max-width\":800},on:{\"click:outside\":_vm.handlerClickCancel,\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.handlerClickCancel($event)}}},[_c('v-card',{staticClass:\"elevation-12\"},[_vm._t(\"default\")],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog\n    :value=\"value\"\n    @click:outside=\"handlerClickCancel\"\n    @keydown.esc=\"handlerClickCancel\"\n    :max-width=\"800\"\n  >\n    <v-card class=\"elevation-12\">\n<!--      <v-btn-->\n<!--        fab-->\n<!--        small-->\n<!--        class=\"d-block ml-auto mr-lg-n8\"-->\n<!--        text-->\n<!--        @click=\"handlerClickCancel\"-->\n<!--      >-->\n<!--        <v-icon x-large>close</v-icon>-->\n<!--      </v-btn>-->\n      <slot />\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\n\nexport default {\n  name: 'NaneModal',\n  data() {\n    return {\n    }\n  },\n  props: {\n    value: {\n      type: Boolean,\n      default: false\n    }\n  },\n  methods: {\n    handlerClickCancel() {\n      this.$emit('cancel')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NaneModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NaneModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NaneModal.vue?vue&type=template&id=5d8fd403&scoped=true&\"\nimport script from \"./NaneModal.vue?vue&type=script&lang=js&\"\nexport * from \"./NaneModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5d8fd403\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\ninstallComponents(component, {VCard,VDialog})\n","<template>\n    <nane-modal\n            :value=\"isShowCreateRoom\"\n            @cancel=\"TOGGLE_SHOW_CREATE_ROOM(false)\"\n    >\n            <v-toolbar\n              color=\"primary\"\n              dark\n              flat\n            >\n              <v-toolbar-title>Имя нового чата</v-toolbar-title>\n              <v-spacer></v-spacer>\n            </v-toolbar>\n            <v-card-text class=\"pt-5\">\n              <v-form ref=\"form\" v-model=\"valid\">\n                <v-text-field\n                  :counter=\"settings.maxRoomTitleLength\"\n                  :rules=\"[...rules]\"\n                  v-model.trim=\"nameRoom\"\n                  clearable\n                  @keydown.prevent.enter=\"handlerClickCreate\"\n                  autocomplete=\"off\"\n                  prepend-icon=\"mdi-comment-processing-outline\"\n                  type=\"text\"\n                ></v-text-field>\n              </v-form>\n            </v-card-text>\n            <v-card-actions>\n              <v-spacer></v-spacer>\n              <v-btn width=\"120px\" @click=\"handlerClickCreate\" color=\"secondary\">Создать</v-btn>\n              <v-btn width=\"120px\" @click=\"handlerClickClose\" outlined color=\"error\">Закрыть</v-btn>\n            </v-card-actions>\n    </nane-modal>\n</template>\n\n<script>\nimport { mapState, mapMutations, mapActions } from 'vuex'\nimport { required, creatorMaxLength, onlyString, creatorExistRoomName } from '../../utility/validRules'\nimport NaneModal from '../NaneModal'\n\nexport default {\n  name: 'MainModalCreateRoom',\n  data() {\n    return {\n      nameRoom: '',\n      valid: false,\n      rules: []\n    }\n  },\n  components: {\n    NaneModal\n  },\n  computed: {\n    ...mapState('settings', ['settings']),\n    ...mapState('rooms', ['rooms']),\n    ...mapState('modals', ['isShowCreateRoom'])\n  },\n  created() {\n    this.initRules()\n  },\n  methods: {\n    ...mapMutations('modals', ['TOGGLE_SHOW_CREATE_ROOM']),\n    ...mapActions('rooms', ['createRoom']),\n    async handlerClickCreate() {\n      this.$refs.form.validate()\n      if (!this.valid) return\n      try {\n        await this.createRoom(this.nameRoom)\n      } finally {\n        this.handlerClickClose()\n      }\n    },\n    handlerClickClose() {\n      this.$refs.form.reset()\n      this.TOGGLE_SHOW_CREATE_ROOM(false)\n    },\n    initRules() {\n      this.rules.push(\n        required,\n        onlyString,\n        creatorMaxLength(this.settings.maxRoomTitleLength),\n        creatorExistRoomName(this.rooms)\n      )\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainModalCreateRoom.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainModalCreateRoom.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainModalCreateRoom.vue?vue&type=template&id=9425bc54&scoped=true&\"\nimport script from \"./MainModalCreateRoom.vue?vue&type=script&lang=js&\"\nexport * from \"./MainModalCreateRoom.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9425bc54\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCardActions,VCardText,VForm,VSpacer,VTextField,VToolbar,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app-bar',{attrs:{\"app\":\"\",\"fixed\":\"\",\"clipped-left\":\"\",\"color\":\"primary\",\"dark\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"Сега Мега Ай-нане чат !!\")]),_c('v-spacer'),_c('v-icon',{staticClass:\"mr-2\"},[_vm._v(\"mdi-comment-account-outline\")]),_c('v-toolbar-title',{staticClass:\"font-weight-bold text-h5 text-uppercase \"},[_vm._v(\" \"+_vm._s(_vm.userName)+\" \")]),_c('v-spacer'),_c('v-btn',{staticClass:\"ma-2\",attrs:{\"outlined\":\"\",\"dark\":\"\",\"disabled\":_vm.isLoading,\"loading\":_vm.isLoading},on:{\"click\":_vm.handlerClickLogout}},[_vm._v(\" выход \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-exit-to-app\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-app-bar\n    app\n    fixed\n    clipped-left\n    color=\"primary\"\n    dark\n  >\n    <v-toolbar-title>Сега Мега Ай-нане чат !!</v-toolbar-title>\n    <v-spacer></v-spacer>\n    <v-icon class=\"mr-2\">mdi-comment-account-outline</v-icon>\n    <v-toolbar-title class=\"font-weight-bold text-h5 text-uppercase \">\n      {{userName}}\n    </v-toolbar-title>\n    <v-spacer></v-spacer>\n    <v-btn\n      outlined\n      dark class=\"ma-2\"\n      @click=\"handlerClickLogout\"\n      :disabled=\"isLoading\"\n      :loading=\"isLoading\"\n    >\n      выход\n      <v-icon right>mdi-exit-to-app</v-icon>\n    </v-btn>\n  </v-app-bar>\n</template>\n\n<script>\nimport { mapState, mapMutations, mapActions } from 'vuex'\n\nexport default {\n  name: 'MainHeader',\n  data() {\n    return {\n      isLoading: false\n    }\n  },\n  computed: {\n    ...mapState('auth', ['userName'])\n  },\n  methods: {\n    ...mapActions('auth', ['logout']),\n    ...mapActions('socket', ['disconnectSocket']),\n    ...mapMutations('rooms', ['RESET_ROOMS']),\n    ...mapActions('notifications', ['confirmUserAction']),\n    async handlerClickLogout() {\n      const success = await this.confirmUserAction()\n      if (!success) return\n      this.isLoading = true\n      try {\n        // глушим сокет\n        this.disconnectSocket()\n        this.logout()\n        this.RESET_ROOMS()\n        this.$router.push({ name: 'login' })\n      } finally {\n        this.isLoading = false\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainHeader.vue?vue&type=template&id=7e389ef8&scoped=true&\"\nimport script from \"./MainHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./MainHeader.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7e389ef8\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAppBar,VBtn,VIcon,VSpacer,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-navigation-drawer',{attrs:{\"width\":\"400px\",\"value\":_vm.isShowDrawer,\"fixed\":\"\",\"temporary\":\"\"},on:{\"input\":function($event){return _vm.TOGGLE_SHOW_DRAWER($event)}},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('v-list-item',{staticClass:\"text-center mt-2\"},[_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"text-uppercase font-weight-medium\"},[_vm._v(\"Список чатов\")])],1),(_vm.$vuetify.breakpoint.xs)?_c('v-btn',{attrs:{\"fab\":\"\",\"small\":\"\",\"text\":\"\"},on:{\"click\":function($event){return _vm.TOGGLE_SHOW_DRAWER(false)}}},[_c('v-icon',{attrs:{\"large\":\"\"}},[_vm._v(\"close\")])],1):_vm._e()],1),_c('v-divider')]},proxy:true}])},[_c('v-list',{attrs:{\"inlist\":\"\",\"subheader\":\"\",\"three-line\":\"\"}},[_vm._l((_vm.rooms),function(room,idx){return [_c('v-list-item',{key:idx,class:{'grey lighten-2': room.isActive},on:{\"click\":function($event){$event.stopPropagation();return _vm.handlerClickRoom(room)}}},[_c('v-list-item-content',{},[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(room.name)+\" \")]),(room.lastMessage)?_c('v-list-item-subtitle',{staticClass:\"caption\"},[_vm._v(\" «\"+_vm._s(room.lastMessage.text)+\"» \")]):_vm._e()],1),_c('v-list-item-icon',{staticClass:\"pt-4\"},[(room.isActive)?_c('v-icon',{attrs:{\"color\":\"primary \"}},[_vm._v(\"star\")]):_vm._e()],1)],1),_c('v-divider',{key:idx +'x'})]})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-navigation-drawer\n    width=\"400px\"\n    :value=\"isShowDrawer\"\n    @input=\"TOGGLE_SHOW_DRAWER($event)\"\n    fixed\n    temporary\n  >\n    <template v-slot:prepend>\n      <v-list-item class=\"text-center mt-2\">\n        <v-list-item-content>\n          <v-list-item-title class=\"text-uppercase font-weight-medium\">Список чатов</v-list-item-title>\n        </v-list-item-content>\n        <v-btn\n          v-if=\"$vuetify.breakpoint.xs\"\n          @click=\"TOGGLE_SHOW_DRAWER(false)\"\n          fab\n          small\n          text\n        >\n          <v-icon large>close</v-icon>\n        </v-btn>\n      </v-list-item>\n      <v-divider />\n    </template>\n\n    <v-list\n      inlist\n      subheader\n      three-line\n    >\n      <template v-for=\"(room, idx) in rooms\">\n        <v-list-item\n          :key=\"idx\"\n          @click.stop=\"handlerClickRoom(room)\"\n          :class=\"{'grey lighten-2': room.isActive}\"\n        >\n          <v-list-item-content class=\"\">\n            <v-list-item-title>\n              {{ room.name }}\n            </v-list-item-title>\n            <v-list-item-subtitle class=\"caption\" v-if=\"room.lastMessage\">\n<!--              последние сообщение реактивно меняется в чатах которые активны-->\n              «{{ room.lastMessage.text }}»\n            </v-list-item-subtitle>\n          </v-list-item-content>\n          <v-list-item-icon class=\"pt-4\">\n            <v-icon v-if=\"room.isActive\" color=\"primary \">star</v-icon>\n          </v-list-item-icon>\n        </v-list-item>\n        <v-divider  :key=\"idx +'x'\"/>\n      </template>\n    </v-list>\n  </v-navigation-drawer>\n</template>\n\n<script>\nimport { mapState, mapMutations, mapActions } from 'vuex'\n\nexport default {\n  name: 'MainDrawer',\n  data() {\n    return {\n    }\n  },\n  computed: {\n    ...mapState('modals', ['isShowDrawer']),\n    ...mapState('rooms', ['rooms'])\n  },\n  methods: {\n    ...mapMutations('modals', ['TOGGLE_SHOW_DRAWER']),\n    ...mapActions('rooms', ['initActiveRoom']),\n    handlerClickRoom(room) {\n      this.TOGGLE_SHOW_DRAWER(false)\n      if (room.isActive) return\n      this.initActiveRoom(room)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainDrawer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainDrawer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainDrawer.vue?vue&type=template&id=c77ffb22&scoped=true&\"\nimport script from \"./MainDrawer.vue?vue&type=script&lang=js&\"\nexport * from \"./MainDrawer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c77ffb22\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\ninstallComponents(component, {VBtn,VDivider,VIcon,VList,VListItem,VListItemContent,VListItemIcon,VListItemSubtitle,VListItemTitle,VNavigationDrawer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-navigation-drawer',{attrs:{\"width\":_vm.$vuetify.breakpoint.xs ? 150 : 270,\"clipped\":\"\",\"permanent\":\"\",\"disable-resize-watcher\":\"\",\"app\":\"\"},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('v-list-item',{on:{\"click\":function($event){$event.stopPropagation();return _vm.TOGGLE_SHOW_DRAWER(true)}}},[_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Выбрать чат\")])],1),_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-comment-multiple-outline\")])],1)],1),_c('v-list-item',{on:{\"click\":function($event){$event.stopPropagation();return _vm.TOGGLE_SHOW_CREATE_ROOM(true)}}},[_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Создать чат\")])],1),_c('v-list-item-action',[_c('v-icon',[_vm._v(\"mdi-comment-plus-outline\")])],1)],1),_c('v-divider')]},proxy:true}])},[_c('v-list',{attrs:{\"dense\":\"\"}},_vm._l((_vm.activeRooms),function(room,idx){return _c('v-list-item',{key:idx,class:{secondary: room.isCurrent},on:{\"click\":function($event){$event.stopPropagation();return _vm.handlerClickRoom(room)}}},[_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(room.name))])],1),_c('v-list-item-action',[(room.isCurrent)?_c('v-icon',[_vm._v(\"mdi-comment-check-outline\")]):_vm._e()],1)],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-navigation-drawer\n    :width=\"$vuetify.breakpoint.xs ? 150 : 270\"\n    clipped\n    permanent\n    disable-resize-watcher\n    app\n  >\n    <template v-slot:prepend>\n      <v-list-item @click.stop=\"TOGGLE_SHOW_DRAWER(true)\">\n        <v-list-item-content>\n          <v-list-item-title>Выбрать чат</v-list-item-title>\n        </v-list-item-content>\n        <v-list-item-action>\n          <v-icon>mdi-comment-multiple-outline</v-icon>\n        </v-list-item-action>\n      </v-list-item>\n      <v-list-item @click.stop=\"TOGGLE_SHOW_CREATE_ROOM(true)\">\n        <v-list-item-content>\n          <v-list-item-title>Создать чат</v-list-item-title>\n        </v-list-item-content>\n        <v-list-item-action>\n          <v-icon>mdi-comment-plus-outline</v-icon>\n        </v-list-item-action>\n      </v-list-item>\n      <v-divider\n      />\n    </template>\n    <v-list dense>\n      <v-list-item\n        @click.stop=\"handlerClickRoom(room)\"\n        v-for=\"(room, idx) in activeRooms\"\n        :key=\"idx\"\n        :class=\"{secondary: room.isCurrent}\"\n      >\n        <v-list-item-content>\n          <v-list-item-title>{{room.name}}</v-list-item-title>\n        </v-list-item-content>\n        <v-list-item-action>\n          <v-icon v-if=\"room.isCurrent\">mdi-comment-check-outline</v-icon>\n        </v-list-item-action>\n      </v-list-item>\n    </v-list>\n  </v-navigation-drawer>\n</template>\n\n<script>\nimport { mapState, mapMutations } from 'vuex'\n\nexport default {\n  name: 'MainSidebar',\n  data() {\n    return {\n    }\n  },\n  computed: {\n    ...mapState('rooms', ['activeRooms'])\n  },\n  methods: {\n    ...mapMutations('modals', ['TOGGLE_SHOW_DRAWER']),\n    ...mapMutations('modals', ['TOGGLE_SHOW_CREATE_ROOM']),\n    ...mapMutations('rooms', ['SET_CURRENT_ROOM']),\n    handlerClickRoom(room) {\n      this.SET_CURRENT_ROOM(room)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainSidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainSidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainSidebar.vue?vue&type=template&id=5ac214ce&scoped=true&\"\nimport script from \"./MainSidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./MainSidebar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ac214ce\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAction } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\ninstallComponents(component, {VDivider,VIcon,VList,VListItem,VListItemAction,VListItemContent,VListItemTitle,VNavigationDrawer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-main',[_c('v-container',{staticClass:\"fill-height pa-0\",attrs:{\"fluid\":\"\"}},[(!_vm.currentRoom)?_c('p',{staticClass:\"hint text-center body-1 grey--text text--lighten-1\"},[_vm._v(\"Нет выбранного чата...\")]):_c('div',{staticClass:\"wrapper\"},[_vm._l((_vm.activeRooms),function(r,idx){return _c('main-chat-area',{directives:[{name:\"show\",rawName:\"v-show\",value:(r.name === _vm.currentRoom.name),expression:\"r.name === currentRoom.name\"}],key:idx,attrs:{\"room\":r}})}),_c('div',{staticClass:\"input-send\"},[_c('v-row',{staticClass:\"pa-3 pt-5\",attrs:{\"dense\":\"\",\"align\":\"start\"}},[_c('v-col',{attrs:{\"cols\":\"\"}},[_c('v-form',{ref:\"form\",model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{attrs:{\"clearable\":\"\",\"autocomplete\":\"off\",\"type\":\"text\",\"counter\":_vm.settings.maxMessageLength,\"rules\":[].concat( _vm.rules ),\"placeholder\":\"Ваше сообщение\",\"outlined\":\"\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.handleClickSend($event)}},model:{value:(_vm.msgText),callback:function ($$v) {_vm.msgText=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"msgText\"}})],1)],1),_c('v-col',{attrs:{\"cols\":\"auto\"}},[_c('v-btn',{attrs:{\"x-large\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.handleClickSend}},[_c('v-icon',{attrs:{\"large\":\"\"}},[_vm._v(\"mdi-send\")])],1)],1)],1)],1)],2)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"chat\",staticClass:\"chat\"},[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('infinite-loading',{staticClass:\"align-self-center\",attrs:{\"direction\":\"top\",\"distance\":300,\"spinner\":\"waveDots\",\"identifier\":_vm.scrollId},on:{\"infinite\":_vm.handlerInfiniteScroll}},[_c('p',{staticClass:\"text-center body-1 grey--text text--lighten-1\",attrs:{\"slot\":\"no-more\"},slot:\"no-more\"},[_vm._v(\"Начало истории сообщений\")])])],1),_vm._l((_vm.messagesForView),function(msg){return _c('v-col',{key:msg.created,attrs:{\"cols\":\"12\"}},[_c('main-chat-message',{attrs:{\"msg\":msg}})],1)})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"ma-2 \",class:{\n      'align-self-end': _vm.isSudo\n    },attrs:{\"width\":\"70%\",\"color\":_vm.isSudo ? 'grey lighten-1 ml-auto' : 'grey lighten-3',\"dark\":_vm.isSudo}},[_c('v-card-title',{staticClass:\"body-2 pa-2\"},[(!_vm.isSudo)?_c('v-icon',{staticClass:\"mr-2\"},[_vm._v(\"mdi-account\")]):_vm._e(),_vm._v(\" \"+_vm._s(_vm.msg.sender)+\" \")],1),_c('v-card-text',{staticClass:\"body-2 pa-2\"},[_vm._v(_vm._s(_vm.msg.text))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export class Message {\n  constructor(data) {\n    // TODO id\n    this.room = data.room\n    this.created = data.created\n    this.sender = data.sender.username\n    this.text = data.text\n  }\n\n  get toJSON() {\n    return JSON.stringify({\n      room: this.room,\n      text: this.text\n    })\n  }\n}\n","<template>\n  <v-card\n    class=\"ma-2 \"\n    width=\"70%\"\n    :class=\"{\n      'align-self-end': isSudo\n    }\"\n    :color=\"isSudo ? 'grey lighten-1 ml-auto' : 'grey lighten-3'\"\n    :dark=\"isSudo\"\n  >\n    <v-card-title class=\"body-2 pa-2\">\n      <v-icon class=\"mr-2\" v-if=\"!isSudo\">mdi-account</v-icon>\n      {{msg.sender}}\n    </v-card-title>\n    <v-card-text class=\"body-2 pa-2\">{{msg.text}}</v-card-text>\n<!--    TODO время-->\n  </v-card>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport { Message } from '../../../models/Message'\n\nexport default {\n  name: 'MainChatMessage',\n  data() {\n    return {\n    }\n  },\n  props: {\n    msg: {\n      type: Message,\n      required: true\n    }\n  },\n  computed: {\n    ...mapState('auth', ['userName']),\n    isSudo() {\n      return this.msg.sender === this.userName\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainChatMessage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainChatMessage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainChatMessage.vue?vue&type=template&id=3fae9dd5&scoped=true&\"\nimport script from \"./MainChatMessage.vue?vue&type=script&lang=js&\"\nexport * from \"./MainChatMessage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3fae9dd5\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VCard,VCardText,VCardTitle,VIcon})\n","import { Message } from './Message'\n\nexport class Room {\n  constructor(data) {\n    this.name = data.name\n    this.isActive = false\n    this.isCurrent = false\n    this.history = []\n    this.messagesStore = []\n    this.lastMessage = data.last_message ? new Message(data.last_message) : null\n    this.isGetHistory = false\n  }\n\n  addMessagesInHistory(messages) {\n    // это если история получена раньше первых сообщений\n    if (!this.messagesStore.length) {\n      // this.lastMessage = messages[messages.length - 1]\n      this.lastMessage = messages.pop()\n    } else {\n      // фильтруем дубликаты\n      messages = messages.filter(newMes => !this.messagesStore.find(m => newMes.created === m.created))\n    }\n    this.history.push(...messages)\n    this.isGetHistory = true\n  }\n\n  addMessageInStore(msg) {\n    this.messagesStore.push(msg)\n    this.lastMessage = msg\n  }\n}\n","<template>\n  <div ref=\"chat\" class=\"chat\">\n    <v-row no-gutters >\n      <v-col cols=\"12\" >\n        <infinite-loading\n          direction=\"top\"\n          :distance=\"300\"\n          spinner=\"waveDots\"\n          class=\"align-self-center\"\n          :identifier=\"scrollId\"\n          @infinite=\"handlerInfiniteScroll\">\n          <p slot=\"no-more\" class=\"text-center body-1 grey--text text--lighten-1\">Начало истории сообщений</p>\n        </infinite-loading>\n      </v-col>\n<!--      важно что бы id был уникален-->\n      <v-col cols=\"12\" :key=\"msg.created\" v-for=\"msg in messagesForView\">\n        <main-chat-message :msg=\"msg\" />\n      </v-col>\n    </v-row>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport MainChatMessage from './MainChatMessage'\nimport InfiniteLoading from 'vue-infinite-loading'\nimport { Room } from '../../../models/Room'\n\nexport default {\n  name: 'MainChatArea',\n  data() {\n    return {\n      messagesForView: [],\n      currentCountChunkMessages: 1,\n      isNextMessages: true,\n      scrollId: Date.now()\n    }\n  },\n  components: {\n    InfiniteLoading,\n    MainChatMessage\n  },\n  props: {\n    room: {\n      type: Room,\n      required: true\n    }\n  },\n  computed: {\n    ...mapState('settings', ['settings'])\n  },\n  watch: {\n    'room.lastMessage'(msg) {\n      // if (!this.room.isGetHistory) return\n      // отслеживаем новые сообщения\n      this.messagesForView.push(msg)\n      this.scrollToBottom()\n    },\n    // ждем когда появится история\n    'room.isGetHistory'(val) {\n      if (!val) return\n      this.isNextMessages = true\n      this.pushNewChunkMessages()\n      // сброс InfiniteLoading\n      this.scrollId = Date.now()\n      this.scrollToBottom()\n    }\n  },\n  methods: {\n    pushNewChunkMessages() {\n      if (!this.room.history.length) {\n        this.isNextMessages = false\n        return\n      }\n      let start = this.room.history.length - (this.settings.sizeChunkMessages * this.currentCountChunkMessages)\n      const end = this.room.history.length - (this.settings.sizeChunkMessages * (this.currentCountChunkMessages - 1))\n      if (start < 0) {\n        start = 0\n        this.isNextMessages = false\n      }\n      const chunk = this.room.history.slice(start, end)\n      console.warn({ start, end })\n      this.messagesForView.unshift(...chunk)\n      this.currentCountChunkMessages++\n    },\n    handlerInfiniteScroll($state) {\n      if (this.isNextMessages) {\n        this.pushNewChunkMessages()\n        $state.loaded()\n      } else {\n        $state.loaded()\n        $state.complete()\n      }\n    },\n    scrollToBottom() {\n      // прокрутка к последнему сообщению, не работает в v-show=\"false\"\n      this.$nextTick(() => {\n        const chat = this.$refs.chat\n        chat.scrollTop = chat.scrollHeight\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .chat{\n    height:100%;\n    overflow-y: scroll;\n    overflow-x: hidden;\n  }\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainChatArea.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainChatArea.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainChatArea.vue?vue&type=template&id=fe39e996&scoped=true&\"\nimport script from \"./MainChatArea.vue?vue&type=script&lang=js&\"\nexport * from \"./MainChatArea.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MainChatArea.vue?vue&type=style&index=0&id=fe39e996&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fe39e996\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCol,VRow})\n","<template>\n  <v-main>\n    <v-container\n      class=\"fill-height pa-0\"\n      fluid\n    >\n      <p class=\"hint text-center body-1 grey--text text--lighten-1\" v-if=\"!currentRoom\">Нет выбранного чата...</p>\n      <div v-else class=\"wrapper\">\n<!--        все активные комнаты держим живыми, и переключаемся к нужной-->\n        <main-chat-area\n          v-for=\"(r, idx) in activeRooms\"\n          v-show=\"r.name === currentRoom.name\"\n          :room=\"r\"\n          :key=\"idx\"\n        />\n        <div class=\"input-send\">\n          <v-row\n            dense\n            align=\"start\"\n            class=\"pa-3 pt-5\"\n          >\n            <v-col cols>\n              <v-form ref=\"form\" v-model=\"valid\">\n                <v-text-field\n                  clearable\n                  autocomplete=\"off\"\n                  type=\"text\"\n                  :counter=\"settings.maxMessageLength\"\n                  :rules=\"[...rules]\"\n                  v-model.trim=\"msgText\"\n                  @keydown.prevent.enter=\"handleClickSend\"\n                  placeholder=\"Ваше сообщение\"\n                  outlined\n                ></v-text-field>\n              </v-form>\n            </v-col>\n            <v-col cols=\"auto\">\n              <v-btn @click=\"handleClickSend\" x-large color=\"primary\">\n                <v-icon large>mdi-send</v-icon>\n              </v-btn>\n            </v-col>\n          </v-row>\n        </div>\n      </div>\n    </v-container>\n  </v-main>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex'\nimport { required, creatorMaxLength } from '../../utility/validRules'\nimport MainChatArea from './MainChat/MainChatArea'\n\nexport default {\n  name: 'MainChat',\n  data() {\n    return {\n      msgText: '',\n      valid: false,\n      rules: []\n    }\n  },\n  components: {\n    MainChatArea\n  },\n  computed: {\n    ...mapState('rooms', ['currentRoom']),\n    ...mapState('rooms', ['activeRooms']),\n    ...mapState('settings', ['settings'])\n  },\n  watch: {\n    currentRoom() {\n      if (this.$refs.form) this.$refs.form.resetValidation()\n    }\n  },\n  created() {\n    this.initRules()\n  },\n  methods: {\n    ...mapActions('socket', ['sendSocket']),\n    async handleClickSend() {\n      this.$refs.form.validate()\n      if (!this.valid) return\n      try {\n        await this.sendSocket({\n          room: this.currentRoom.name,\n          text: this.msgText\n        })\n        this.$refs.form.reset()\n      } catch (e) {\n        console.dir(e)\n      }\n    },\n    initRules() {\n      this.rules.push(\n        required,\n        creatorMaxLength(this.settings.maxMessageLength)\n        // creatorMinLength(this.settings.minLength)\n      )\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .wrapper{\n    height: calc(100vh - 60px);\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n  }\n  .hint{\n    width: 100%;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainChat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainChat.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainChat.vue?vue&type=template&id=b75f6b3a&scoped=true&\"\nimport script from \"./MainChat.vue?vue&type=script&lang=js&\"\nexport * from \"./MainChat.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MainChat.vue?vue&type=style&index=0&id=b75f6b3a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b75f6b3a\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMain } from 'vuetify/lib/components/VMain';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCol,VContainer,VForm,VIcon,VMain,VRow,VTextField})\n","<template>\n  <v-app>\n    <main-header/>\n    <main-sidebar/>\n    <main-drawer/>\n    <main-chat/>\n    <main-modal-creat-room />\n  </v-app>\n</template>\n\n<script>\nimport { mapActions, mapMutations, mapState } from 'vuex'\nimport MainModalCreatRoom from '../components/pageMain/MainModalCreateRoom'\nimport MainHeader from '../components/pageMain/MainHeader'\nimport MainDrawer from '../components/pageMain/MainDrawer'\nimport MainSidebar from '../components/pageMain/MainSidebar'\nimport MainChat from '../components/pageMain/MainChat'\n\nexport default {\n  name: 'Main',\n  data: () => ({\n  }),\n  components: {\n    MainModalCreatRoom,\n    MainHeader,\n    MainDrawer,\n    MainSidebar,\n    MainChat\n  },\n  computed: {\n    ...mapState('auth', ['userName'])\n  },\n  created() {\n    this.init()\n  },\n  methods: {\n    ...mapMutations('modals', ['TOGGLE_SHOW_CREATE_ROOM']),\n    ...mapActions('socket', ['connectSocket', 'sendSocket']),\n    async init() {\n      if (this.userName) {\n        // поднимаем сокет только для зологининых юзеров\n        this.connectSocket(this.userName)\n      } else {\n        this.$router.push({ name: 'login' })\n      }\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Main.vue?vue&type=template&id=71eae4bd&scoped=true&\"\nimport script from \"./Main.vue?vue&type=script&lang=js&\"\nexport * from \"./Main.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"71eae4bd\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\ninstallComponents(component, {VApp})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-main',[_c('v-container',{staticClass:\"fill-height\",attrs:{\"fluid\":\"\"}},[_c('v-row',{attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\",\"sm\":\"8\"}},[_c('v-card',{staticClass:\"elevation-12\"},[_c('v-toolbar',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"flat\":\"\"}},[_c('v-toolbar-title',[_vm._v(\"Ваше имя\")]),_c('v-spacer')],1),_c('v-card-text',[_c('v-form',{ref:\"form\",model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{attrs:{\"rules\":[].concat( _vm.rules ),\"counter\":_vm.settings.maxUserNameLength,\"clearable\":\"\",\"autocomplete\":\"off\",\"prepend-icon\":\"mdi-account\",\"type\":\"text\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.handlerClickLogin($event)}},model:{value:(_vm.name),callback:function ($$v) {_vm.name=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"name\"}})],1)],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"block\":\"\",\"color\":\"secondary\"},on:{\"click\":_vm.handlerClickLogin}},[_vm._v(\"Войти\")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n        <v-main>\n          <v-container\n            class=\"fill-height\"\n            fluid\n          >\n            <v-row\n              align=\"center\"\n              justify=\"center\"\n            >\n              <v-col\n                cols=\"12\"\n                md=\"4\"\n                sm=\"8\"\n              >\n                <v-card class=\"elevation-12\">\n                  <v-toolbar\n                    color=\"primary\"\n                    dark\n                    flat\n                  >\n                    <v-toolbar-title>Ваше имя</v-toolbar-title>\n                    <v-spacer></v-spacer>\n                  </v-toolbar>\n                  <v-card-text>\n                    <v-form ref=\"form\" v-model=\"valid\">\n                      <v-text-field\n                        :rules=\"[...rules]\"\n                        :counter=\"settings.maxUserNameLength\"\n                        clearable\n                        @keydown.prevent.enter=\"handlerClickLogin\"\n                        autocomplete=\"off\"\n                        prepend-icon=\"mdi-account\"\n                        type=\"text\"\n                        v-model.trim=\"name\"\n                      ></v-text-field>\n                    </v-form>\n                  </v-card-text>\n                  <v-card-actions>\n                    <v-btn block @click=\"handlerClickLogin\" color=\"secondary\">Войти</v-btn>\n                  </v-card-actions>\n                </v-card>\n              </v-col>\n            </v-row>\n          </v-container>\n        </v-main>\n</template>\n\n<script>\nimport { mapActions, mapState } from 'vuex'\nimport { required, creatorMaxLength, onlyString } from '../utility/validRules'\n\nexport default {\n  name: 'Login',\n  data: () => ({\n    name: '',\n    valid: false,\n    rules: []\n  }),\n  computed: {\n    ...mapState('auth', ['userName']),\n    ...mapState('settings', ['settings'])\n  },\n  created() {\n    if (this.userName) this.$router.push({ name: 'main' })\n    this.initRules()\n  },\n  methods: {\n    ...mapActions('auth', ['login']),\n    handlerClickLogin() {\n      this.$refs.form.validate()\n      if (!this.valid) return\n      this.login(this.name)\n      this.$router.push({ name: 'main' })\n    },\n    initRules() {\n      this.rules.push(\n        required,\n        onlyString,\n        this.rules.maxLength = creatorMaxLength(this.settings.maxUserNameLength)\n      )\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=052c3b36&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"052c3b36\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VMain } from 'vuetify/lib/components/VMain';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCol,VContainer,VForm,VMain,VRow,VSpacer,VTextField,VToolbar,VToolbarTitle})\n","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Main from '../views/Main.vue'\nimport Login from '../views/Login'\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    name: 'main',\n    component: Main,\n    meta: { requiresAuth: true }\n  },\n  {\n    path: '/login',\n    name: 'login',\n    component: Login\n  },\n  {\n    path: '*',\n    redirect: { name: 'main' }\n  }\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.VUE_APP_BASE_URL_SUB || process.env.BASE_URL,\n  routes\n})\n// TODO универсальная проверка на логин\n// router.beforeEach(async (to, from, next) => {\n//   const requiresAuth = to.matched.some(record => record.meta.requiresAuth)\n//   const currentUser = await store.dispatch('auth/checkAuth')\n//   // if (!store.state.permittedRoute) next(false)\n//   if (requiresAuth && !currentUser) next({ name: 'login' })\n//   else next()\n//   // next()\n// })\nexport default router\n","import axios from 'axios'\n\nconst axiosConfig = axios.create({\n  baseURL: process.env.VUE_APP_API_BASE_URL\n  // withCredentials: true\n})\n\nexport default axiosConfig\n","import axios from '../config/axios'\n\nconst baseURL = '/api/'\n\nexport async function getConfig() {\n  const { data } = await axios.get(`${baseURL}settings`)\n  return data\n}\nexport async function getRooms() {\n  const { data } = await axios.get(`${baseURL}rooms`)\n  return data\n}\nexport async function getHistory(name) {\n  const { data } = await axios.get(`${baseURL}rooms/${name}/history`)\n  return data\n}\n","const STATUS = {\n  CONNECTING: 0,\n  OPEN: 1,\n  CLOSING: 2,\n  CLOSED: 3\n}\n\nexport class SocketCustom {\n  constructor({ url, reconnection = false, reconnectionTime = 1000, reconnectionAttempts = 5 }) {\n    if (!url) throw new Error('url is required')\n    this._ws = null\n    this.url = url\n\n    this.reconnection = reconnection\n    this.reconnectionTime = reconnectionTime\n    // TODO количество попыток подключиться\n    this.countReconnect = 0\n    this.reconnectionAttempts = reconnectionAttempts\n    this.isActive = false\n    // TODO переделать на \"Наблюдатель\"\n    this.onmessage = () => {}\n  }\n\n  connect() {\n    return new Promise((resolve, reject) => {\n      // так как при не удачном подключении нужно повторить попытку, и нельзя потерять resolve\n      // логика завернута в отдельную функцию\n      const reconnect = async () => {\n        if (this._ws) {\n          this.disconnect()\n        }\n        this._ws = new WebSocket(this.url)\n        // TODO reject\n        this._ws.onopen = () => {\n          console.warn('SocketCustom connect')\n          resolve()\n        }\n        this._ws.onmessage = event => {\n          this.onmessage(event.data)\n        }\n        // this._ws.onerror = () => {\n        //   console.warn('WebSocket error')\n        // }\n        // кокда идет переподключение мы теряем все сообщения\n        // TODO по хорошему нужно при повторном соединении просить историю, что бы не терять месаги\n        this._ws.onclose = () => {\n          // при закрытие, пытаемся заново подключится, но так не всегда нужно делать\n          if (this.reconnection) setTimeout(reconnect, this.reconnectionTime)\n        }\n      }\n      reconnect()\n    })\n  }\n\n  send(msg) {\n    if (!this._ws || this._ws.readyState !== STATUS.OPEN) throw new Error('SocketCustom is already')\n    this._ws.send(msg)\n  }\n\n  disconnect() {\n    return new Promise(resolve => {\n      this._ws.onclose = () => {\n        console.warn('SocketCustom disconnect')\n        resolve()\n      }\n      this._ws.close()\n    })\n  }\n}\n","import { SocketCustom } from '../models/SocketCustom'\n\nconst baseURL = '/ws'\n\nexport function getSocket(userName) {\n  if (!userName) throw new Error('user name is required')\n  return new SocketCustom({\n    url: `${process.env.VUE_APP_SOCKET_BASE_URL}${baseURL}?username=${userName}`,\n    reconnection: true\n  })\n}\n","import * as main from './mainEndpoints'\nimport * as ws from './socketsEndpoints'\n\nexport default { main, ws }\n","import messages from '../../utility/messagesNotifications'\n\nconst TIMEOUT = 4000\nconst BASE_COLOR = 'secondary'\nlet resolvePromiseFunc\n\nexport default {\n  namespaced: true,\n  state: {\n    count: 0,\n    notifications: [],\n    // typesUserActions: TYPES_USER_ACTIONS,\n    userAction: null,\n    isShowTopSystemBar: false\n  },\n  mutations: {\n    INCREMENT_COUNT(state) {\n      state.count++\n    },\n    ADD_NOTIFICATION(state, notification) {\n      state.notifications.unshift(notification)\n    },\n    DELETE_NOTIFICATION(state, notification) {\n      const index = state.notifications.findIndex(not => not.id === notification.id)\n      if (index === -1) return\n      state.notifications.splice(index, 1)\n    },\n    SET_USER_ACTION(state, action) {\n      state.userAction = action\n    },\n    TOGGLE_SHOW_TOP_SYSTEM_BAR(state, isShow) {\n      state.isShowTopSystemBar = isShow\n    }\n  },\n  actions: {\n    initWatchIsOnline({ commit, state }) {\n      const updateOnlineStatus = () => {\n        commit('TOGGLE_SHOW_TOP_SYSTEM_BAR', !navigator.onLine)\n      }\n      window.addEventListener('online', updateOnlineStatus)\n      window.addEventListener('offline', updateOnlineStatus)\n      updateOnlineStatus()\n    },\n    showNotification({ commit, state }, { type, text = '' }) {\n      let color = BASE_COLOR\n      if (type === 'error') color = 'error'\n      const notification = { text, color, id: state.count }\n      commit('ADD_NOTIFICATION', notification)\n      setTimeout(() => {\n        commit('DELETE_NOTIFICATION', notification)\n      }, TIMEOUT)\n      commit('INCREMENT_COUNT')\n    },\n    confirmUserAction({ commit, state }, text = messages.defaultBottomSheet, type = TYPES_USER_ACTIONS.DELETE) {\n      return new Promise(resolve => {\n        // назначаем resolve глобальной переменной\n        resolvePromiseFunc = resolve\n        commit('SET_USER_ACTION', { type, text })\n      })\n    },\n    async resolveConfirmUserAction({ commit, state }, isConfirm) {\n      commit('SET_USER_ACTION', null)\n      // резолвим промис который создали в confirmUserAction\n      resolvePromiseFunc(isConfirm)\n    }\n  }\n}\n\nconst TYPES_USER_ACTIONS = {\n  DELETE: 'delete'\n}\n","import api from '../../api'\nimport store from '../index'\nimport messagesNotifications from '../../utility/messagesNotifications'\nimport { validLettersAndNumbers } from '../../utility/validRules'\n\nlet ws\nexport default {\n  namespaced: true,\n  state: {\n    isConnect: false\n  },\n  mutations: {\n    SET_IS_CONNECT(state, isConnect) {\n      state.isConnect = isConnect\n    }\n  },\n  actions: {\n    async connectSocket({ commit, dispatch }, userName) {\n      if (!validLettersAndNumbers(userName)) {\n        store.dispatch('notifications/showNotification', { text: messagesNotifications.errorValidUserName, type: 'error' })\n        return\n      }\n      try {\n        const newWS = api.ws.getSocket(userName)\n        newWS.onmessage = (msg) => {\n          store.dispatch('rooms/processNewMessage', msg)\n        }\n        await newWS.connect()\n        ws = newWS\n        store.dispatch('notifications/showNotification', { text: messagesNotifications.initSocket })\n        commit('SET_IS_CONNECT', true)\n      } catch (err) {\n        store.dispatch('notifications/showNotification', { text: messagesNotifications.errorGetInitSocket, type: 'error' })\n        console.warn(err)\n        throw err\n      }\n    },\n    async sendSocket({ commit, state }, msg) {\n      try {\n      // TODO проверка на доставку\n        msg = JSON.stringify(msg)\n        ws.send(msg)\n      } catch (err) {\n        store.dispatch('notifications/showNotification', { text: messagesNotifications.errorSendSocket, type: 'error' })\n        console.dir(err)\n        throw err\n      }\n    },\n    async disconnectSocket({ commit }) {\n      try {\n        if (ws) await ws.disconnect()\n        commit('SET_IS_CONNECT', false)\n      } catch (err) {\n        console.warn(err)\n      }\n    }\n  }\n}\n","export default {\n  defaultBottomSheet: 'Точно хотите выйти ?',\n\n  errorGetSettings: 'Не удается загрузить настройки',\n  defaultSettings: 'Используются настройки \"По умолчанию\"',\n\n  errorValidUserName: 'Имя должно состоять из букв и цифр',\n  errorValidRoomName: 'Имя комнаты должно состоять из букв и цифр',\n\n  errorGetHistory: 'Не удается загрузить историю',\n  getHistory: 'История загруженна для комнаты',\n\n  errorGetRooms: 'Не удается загрузить комнаты',\n  getRooms: 'Загружен список комнат',\n  errorSetRooms: 'Не удается создать комнату',\n  createAutoRoom: 'Появилась новая комната',\n  createRoom: 'Добавленна новая комната',\n\n  errorGetMessages: 'Не удается загрузить сообщения',\n  errorProcessMessages: 'Не удается обработать новое сообщения',\n\n  errorGetInitSocket: 'Не удается подключиться по веб сокету',\n  errorSendSocket: 'Не удается отправить сообщение по веб сокету',\n  initSocket: 'Соединение по веб сокету установленно'\n}\n","import api from '../../api'\nimport store from '../index'\nimport messagesNotifications from '../../utility/messagesNotifications'\nimport { Room } from '../../models/Room'\nimport { Message } from '../../models/Message'\nimport { validLettersAndNumbers } from '../../utility/validRules'\n\nexport default {\n  namespaced: true,\n  state: {\n    rooms: [],\n    currentRoom: null,\n    activeRooms: []\n  },\n  mutations: {\n    SET_ROOMS(state, rooms) {\n      // комнаты которые были созданы, но в них не чего не писали, и их в комнатах с сервера еще нет\n      const customRooms = state.rooms.filter(r => !r.lastMessage)\n      state.rooms = [...rooms, ...customRooms]\n    },\n    ADD_ROOM(state, room) {\n      state.rooms.push(room)\n    },\n    RESET_ROOMS(state) {\n      if (state.currentRoom) state.currentRoom.isCurrent = false\n      state.currentRoom = null\n      state.activeRooms.forEach(r => (r.isActive = false))\n      state.activeRooms = []\n    },\n    SET_CURRENT_ROOM(state, room) {\n      if (state.currentRoom) {\n        state.currentRoom.isCurrent = false\n      }\n      room.isCurrent = true\n      state.currentRoom = room\n    },\n    ADD_ACTIVE_ROOM(state, room) {\n      room.isActive = true\n      state.activeRooms.push(room)\n    },\n    ADD_NEW_MESSAGE(state, msg) {\n      // добавляем только активным румам, т.е. последние сообщение реактивно будет меняется только в них\n      // на случай одинаковых комнат берем фильтр\n      const rooms = state.activeRooms.filter(r => r.name === msg.room)\n      rooms.forEach(r => {\n        r.addMessageInStore(msg)\n      })\n    }\n  },\n  actions: {\n    async getRooms({ commit, dispatch }) {\n      try {\n        const { result } = await api.main.getRooms()\n        const rooms = result.map(r => new Room(r))\n        console.info('rooms from api', rooms)\n        commit('SET_ROOMS', rooms)\n        store.dispatch('notifications/showNotification', { text: messagesNotifications.getRooms })\n      } catch (err) {\n        console.warn(err)\n        setTimeout(() => dispatch('getRooms'), store.state.settings.settings.reconnectionTime)\n      }\n    },\n    // локально создаем и делаем активной\n    async createRoom({ commit }, name) {\n      try {\n        const room = new Room({ name })\n        console.info('new local room', room)\n        commit('ADD_ROOM', room)\n        commit('ADD_ACTIVE_ROOM', room)\n        commit('SET_CURRENT_ROOM', room)\n      } catch (err) {\n        store.dispatch('notifications/showNotification', { text: messagesNotifications.errorSetRooms, type: 'error' })\n        console.warn(err)\n        throw err\n      }\n    },\n    // создаем рум из сообщения сокета\n    async createAutoRoom({ commit }, msg) {\n      try {\n        const room = new Room({ name: msg.room })\n        room.addMessageInStore(msg)\n        console.info('new auto room from api', room)\n        commit('ADD_ROOM', room)\n        store.dispatch('notifications/showNotification', { text: `${messagesNotifications.createAutoRoom} ${room.name}` })\n      } catch (err) {\n        store.dispatch('notifications/showNotification', { text: messagesNotifications.errorSetRooms, type: 'error' })\n        console.warn(err)\n      }\n    },\n    async processNewMessage({ commit, dispatch, state }, rawMsg) {\n      try {\n        const message = new Message(JSON.parse(rawMsg))\n        console.info('new messages ', message)\n        // ищем доступные для сообщения комнаты\n        const isExistRooms = state.rooms.find(r => r.name === message.room)\n        if (isExistRooms) commit('ADD_NEW_MESSAGE', message)\n        // есле нет то создаем новую\n        else dispatch('createAutoRoom', message)\n      } catch (err) {\n        store.dispatch('notifications/showNotification', { text: messagesNotifications.errorProcessMessages, type: 'error' })\n        console.warn(err)\n      }\n    },\n    async getHistory({ commit, dispatch }, room) {\n      if (!validLettersAndNumbers(room.name)) {\n        store.dispatch('notifications/showNotification', { text: messagesNotifications.errorValidRoomName, type: 'error' })\n        return\n      }\n      try {\n        // у кастомных комнат в которые не писали, нет последнего сообщения\n        if (!room.lastMessage) return\n        const { result } = await api.main.getHistory(room.name)\n        const messages = result.map(m => new Message(m))\n        room.addMessagesInHistory(messages)\n        console.info(`message for ${room.name}`, messages)\n        store.dispatch('notifications/showNotification', { text: `${messagesNotifications.getHistory} ${room.name}` })\n      } catch (err) {\n        console.warn(err)\n        setTimeout(() => dispatch('getHistory', room), store.state.settings.settings.reconnectionTime)\n      }\n    },\n    async initActiveRoom({ commit, dispatch }, room) {\n      try {\n        if (room.isActive) return\n        commit('ADD_ACTIVE_ROOM', room)\n        commit('SET_CURRENT_ROOM', room)\n        dispatch('getHistory', room)\n      } catch (err) {\n        store.dispatch('notifications/showNotification', { text: messagesNotifications.errorGetMessages, type: 'error' })\n        console.warn(err)\n        throw err\n      }\n    }\n  }\n}\n","export class Settings {\n  constructor(data = {}) {\n    this.maxMessageLength = data.max_message_length || 10500\n    this.maxRoomTitleLength = data.max_room_title_length || 50\n    this.maxUserNameLength = data.max_username_length || 50\n    this.uptime = data.uptime\n    this.minLength = 1\n    this.sizeChunkMessages = 20\n    this.reconnectionTime = 500\n  }\n}\n","import api from '../../api'\nimport { Settings } from '../../models/Settinds'\nimport messagesNotifications from '../../utility/messagesNotifications'\nimport store from '../../store'\n\nexport default {\n  namespaced: true,\n  state: {\n    settings: null\n  },\n  mutations: {\n    SET_SETTINGS(state, sets) {\n      state.settings = sets\n    }\n  },\n  actions: {\n    async getSettings({ commit }) {\n      let settings\n      try {\n        const { result } = await api.main.getConfig()\n        settings = new Settings(result)\n      } catch (err) {\n        // если сломалось ставим дефолтные\n        settings = new Settings()\n        store.dispatch('notifications/showNotification', { text: messagesNotifications.defaultSettings })\n      } finally {\n        console.info('settings from api', settings)\n        commit('SET_SETTINGS', settings)\n      }\n    }\n  }\n}\n","export default {\n  namespaced: true,\n  state: {\n    isShowCreateRoom: false,\n    isShowDrawer: false\n  },\n  mutations: {\n    TOGGLE_SHOW_CREATE_ROOM(state, isShow) {\n      state.isShowCreateRoom = isShow\n    },\n    TOGGLE_SHOW_DRAWER(state, isShow) {\n      state.isShowDrawer = isShow\n    }\n  }\n}\n","const USER_NAME = 'userName'\n\nexport default {\n  namespaced: true,\n  state: {\n    userName: null\n  },\n  mutations: {\n    LOGIN(state, name) {\n      state.userName = name\n    },\n    LOGOUT(state) {\n      state.userName = null\n    }\n  },\n  actions: {\n    login({ commit }, name) {\n      localStorage.setItem(USER_NAME, name)\n      commit('LOGIN', name)\n      return name\n    },\n    logout({ commit }) {\n      localStorage.removeItem(USER_NAME)\n      commit('LOGOUT')\n    },\n    async checkAuth({ dispatch }) {\n      const user = await localStorage.getItem(USER_NAME)\n      return user\n    }\n  }\n}\n","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport rooms from './modules/roomsModule'\nimport settings from './modules/settingsModule'\nimport notifications from './modules/notificationsModule'\nimport modals from './modules/modalsModule'\nimport auth from './modules/authModule'\nimport socket from './modules/socketModule'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  modules: {\n    rooms,\n    settings,\n    notifications,\n    modals,\n    auth,\n    socket\n  }\n})\n","import Vue from 'vue'\n// import Vuetify from 'vuetify/lib'\nimport Vuetify from 'vuetify/lib/framework'\nimport ru from 'vuetify/src/locale/ru.ts'\nimport colors from 'vuetify/lib/util/colors'\n\nVue.use(Vuetify)\nexport default new Vuetify({\n  theme: {\n    themes: {\n      light: {\n        primary: process.env.VUE_APP_PRIMARY_COLOR || colors.teal,\n        secondary: process.env.VUE_APP_SECONDARY_COLOR || colors.teal.lighten2,\n        accent: colors.indigo.base\n      }\n    }\n  },\n  lang: {\n    locales: { ru },\n    current: 'ru'\n  }\n})\n","import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\nimport vuetify from './plugins/vuetify'\n\nVue.config.productionTip = false\n\nnew Vue({\n  router,\n  store,\n  vuetify,\n  render: h => h(App)\n}).$mount('#app')\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NaneNotifications.vue?vue&type=style&index=0&id=af908728&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NaneNotifications.vue?vue&type=style&index=0&id=af908728&lang=scss&scoped=true&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=4a42a376&lang=scss&scoped=true&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=4a42a376&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainChat.vue?vue&type=style&index=0&id=b75f6b3a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainChat.vue?vue&type=style&index=0&id=b75f6b3a&lang=scss&scoped=true&\""],"sourceRoot":""}